import{I as V,_ as U}from"./Button.vue_vue_type_script_setup_true_lang-12dcff61.js";import{_ as M,o as C,c as _,a as r,d as L,r as v,u as H,b as O,e as m,f as k,w,g as B,h as N,t as $,i as j,F as J,j as R,k as I}from"./index-4c45d05b.js";import{E as Z,_ as A}from"./Edit-84d2246d.js";import{_ as T}from"./Toast.vue_vue_type_script_setup_true_lang-50c9b145.js";const q={},P={width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},W=r("path",{d:"M9 12.75V5.25002",stroke:"#424F4F","stroke-width":"1.5","stroke-linecap":"round"},null,-1),z=r("path",{d:"M5.25 9.00002H12.75",stroke:"#424F4F","stroke-width":"1.5","stroke-linecap":"round"},null,-1),G=[W,z];function K(t,e){return C(),_("svg",P,G)}const Q=M(q,[["render",K]]);let b;const X=new Uint8Array(16);function Y(){if(!b&&(b=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!b))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return b(X)}const u=[];for(let t=0;t<256;++t)u.push((t+256).toString(16).slice(1));function ee(t,e=0){return(u[t[e+0]]+u[t[e+1]]+u[t[e+2]]+u[t[e+3]]+"-"+u[t[e+4]]+u[t[e+5]]+"-"+u[t[e+6]]+u[t[e+7]]+"-"+u[t[e+8]]+u[t[e+9]]+"-"+u[t[e+10]]+u[t[e+11]]+u[t[e+12]]+u[t[e+13]]+u[t[e+14]]+u[t[e+15]]).toLowerCase()}const te=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),D={randomUUID:te};function oe(t,e,a){if(D.randomUUID&&!e&&!t)return D.randomUUID();t=t||{};const s=t.random||(t.rng||Y)();if(s[6]=s[6]&15|64,s[8]=s[8]&63|128,e){a=a||0;for(let n=0;n<16;++n)e[a+n]=s[n];return e}return ee(s)}const ne=["onSubmit"],E=L({__name:"AddContactForm",props:{editContact:{}},emits:["onAddContact","onSaveEditContact"],setup(t,{emit:e}){const a=t,s=v(!1),n=v(!1),c=v(!1),d=v(""),g=v(""),y=v(""),f=v("");H(),O(()=>{a.editContact&&Object.keys(a.editContact).length>0&&(d.value=a.editContact.name,y.value=a.editContact.email,g.value=a.editContact.phone,f.value=a.editContact.group)});const x=()=>{var i;const h={id:((i=a.editContact)==null?void 0:i.id)||oe(),name:d.value,phone:g.value,email:y.value,group:f.value};a.editContact&&Object.keys(a.editContact).length>0?e("onSaveEditContact",h):e("onAddContact",h)};return(h,i)=>(C(),_("form",{onSubmit:N(x,["prevent"]),class:"w-full flex flex-col items-center justify-center gap-6"},[m(V,{modelValue:d.value,"onUpdate:modelValue":i[0]||(i[0]=o=>d.value=o),type:"text",label:"Введите имя",required:!0,onIsValid:i[1]||(i[1]=o=>n.value=o)},null,8,["modelValue"]),m(V,{modelValue:g.value,"onUpdate:modelValue":i[2]||(i[2]=o=>g.value=o),type:"tel",label:"Введите номер телефона",required:!0,onIsValid:i[3]||(i[3]=o=>s.value=o)},null,8,["modelValue"]),m(V,{modelValue:y.value,"onUpdate:modelValue":i[4]||(i[4]=o=>y.value=o),type:"email",label:"Введите email",required:!0,onIsValid:i[5]||(i[5]=o=>c.value=o)},null,8,["modelValue"]),m(V,{modelValue:f.value,"onUpdate:modelValue":i[6]||(i[6]=o=>f.value=o),type:"text",label:"Группировка"},null,8,["modelValue"]),h.editContact?(C(),k(U,{key:0,type:"submit"},{default:w(()=>[B("Изменить")]),_:1})):(C(),k(U,{key:1,type:"submit",disabled:!s.value||!n.value||!c.value},{default:w(()=>[B("Добавить")]),_:1},8,["disabled"]))],40,ne))}}),le={},ae={width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"},se=r("path",{d:"M7.5 1.6875C7.18934 1.6875 6.9375 1.93934 6.9375 2.25V2.8125H3.75C3.43934 2.8125 3.1875 3.06434 3.1875 3.375C3.1875 3.68566 3.43934 3.9375 3.75 3.9375H14.25C14.5606 3.9375 14.8125 3.68566 14.8125 3.375C14.8125 3.06434 14.5606 2.8125 14.25 2.8125H11.0625V2.25C11.0625 1.93934 10.8106 1.6875 10.5 1.6875H7.5Z",fill:"#BB0A0A"},null,-1),de=r("path",{d:"M7.5 7.9873C7.81065 7.9873 8.0625 8.23915 8.0625 8.5498V13.7998C8.0625 14.1105 7.81065 14.3623 7.5 14.3623C7.18934 14.3623 6.9375 14.1105 6.9375 13.7998V8.5498C6.9375 8.23915 7.18934 7.9873 7.5 7.9873Z",fill:"#BB0A0A"},null,-1),ie=r("path",{d:"M11.0625 8.5498C11.0625 8.23915 10.8106 7.9873 10.5 7.9873C10.1894 7.9873 9.9375 8.23915 9.9375 8.5498V13.7998C9.9375 14.1105 10.1894 14.3623 10.5 14.3623C10.8106 14.3623 11.0625 14.1105 11.0625 13.7998V8.5498Z",fill:"#BB0A0A"},null,-1),ue=r("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M4.49482 5.93788C4.52647 5.65301 4.76726 5.4375 5.05388 5.4375H12.9487C13.2352 5.4375 13.4761 5.65301 13.5077 5.93788L13.6578 7.28889C13.9299 9.73785 13.9299 12.2095 13.6578 14.6584L13.643 14.7915C13.535 15.7636 12.7816 16.5388 11.8129 16.6744C9.9476 16.9355 8.0549 16.9355 6.18956 16.6744C5.22091 16.5388 4.4675 15.7636 4.35949 14.7915L4.34471 14.6584C4.0726 12.2095 4.0726 9.73785 4.34471 7.28889L4.49482 5.93788ZM5.55734 6.5625L5.46283 7.41313C5.19989 9.77955 5.19989 12.1678 5.46283 14.5342L5.4776 14.6672C5.52883 15.1282 5.88614 15.4959 6.34554 15.5602C8.1074 15.8068 9.8951 15.8068 11.6569 15.5602C12.1164 15.4959 12.4737 15.1282 12.5249 14.6672L12.5397 14.5342C12.8026 12.1678 12.8026 9.77955 12.5397 7.41313L12.4452 6.5625H5.55734Z",fill:"#BB0A0A"},null,-1),re=[se,de,ie,ue];function ce(t,e,a,s,n,c){return C(),_("svg",ae,re)}const me=M(le,[["render",ce]]),ve={class:"flex items-center border border-gray-300 p-4 mb-4 rounded-lg shadow-md"},pe={class:"flex-1"},Ce={class:"text-xl font-bold"},ge={class:"text-gray-600"},_e={class:"text-gray-600"},ye={class:"w-fit p-1 text-xs rounded-xl custom-bg"},fe={class:"flex items-center space-x-2"},he=L({__name:"ContactCard",props:{contact:{}},emits:["onEditContact","onDeleteContact"],setup(t,{emit:e}){const a=n=>{e("onEditContact",n)},s=n=>{e("onDeleteContact",n)};return(n,c)=>(C(),_("div",ve,[r("div",pe,[r("div",Ce,$(n.contact.name),1),r("div",ge,$(n.contact.phone),1),r("div",_e,$(n.contact.email),1),r("div",ye,$(n.contact.group),1)]),r("div",fe,[r("button",{onClick:c[0]||(c[0]=d=>a(n.contact)),class:"rounded-full p-2 bg-gray-200 hover:bg-gray-300 focus:outline-none focus:bg-gray-300 transition duration-200"},[m(Z,{class:"scale-125"})]),r("button",{onClick:c[1]||(c[1]=d=>s(n.contact.id)),class:"rounded-full p-2 bg-gray-200 hover:bg-gray-300 focus:outline-none focus:bg-gray-300 transition duration-200"},[m(me,{class:"scale-125"})])])]))}}),Ve={class:"relative"},we={class:"mt-5"},$e={class:"absolute -bottom-12 right-0 mb-6 mr-6"},be={key:0},xe={key:1},Be=L({__name:"HomeView",setup(t){const e=v(!1),a=v(null),s=v(""),n=v(""),c=v(""),d=v([{id:"1",name:"John Smith",phone:"(555) 123-4567",email:"johnsmith@email.com",group:"Friends"},{id:"2",name:"Jane Doe",phone:"(555) 987-6543",email:"janedoe@email.com",group:"Family"},{id:"3",name:"David Johnson",phone:"(555) 789-0123",email:"davidjohnson@email.com",group:"Work"}]);O(()=>{localStorage.getItem("contacts")?d.value=JSON.parse(localStorage.getItem("contacts")||""):localStorage.setItem("contacts",JSON.stringify(d.value))});const g=()=>{localStorage.setItem("contacts",JSON.stringify(d.value))},y=o=>{d.value=[...d.value,o],g(),e.value=!1,n.value="success",c.value="Добавлено!"},f=o=>{d.value=d.value.filter(l=>l.id!==o),g(),n.value="success",c.value="Удалено!"},x=o=>{a.value=o},h=o=>{d.value=d.value.map(l=>l.id===o.id?o:l),g(),n.value="success",c.value="Изменено!",a.value=null},i=()=>{s.value?d.value=d.value.filter(o=>o.name.toLowerCase().includes(s.value.toLowerCase())||o.phone.toLowerCase().includes(s.value.toLowerCase())||o.email.toLowerCase().includes(s.value.toLowerCase())||o.group.toLowerCase().includes(s.value.toLowerCase())):d.value=JSON.parse(localStorage.getItem("contacts")||"")};return(o,l)=>{const F=j("Button");return C(),_("div",Ve,[r("main",null,[m(V,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=p=>s.value=p),type:"text",label:"Поиск",onInput:i},null,8,["modelValue"]),r("div",we,[(C(!0),_(J,null,R(d.value,p=>(C(),k(he,{key:p.id,contact:p,onOnEditContact:l[1]||(l[1]=S=>x(S)),onOnDeleteContact:l[2]||(l[2]=S=>f(S))},null,8,["contact"]))),128))])]),r("div",$e,[m(F,{class:"rounded-full p-4 shadow-xl bg-gray-200",onClick:l[3]||(l[3]=p=>e.value=!0)},{default:w(()=>[m(Q,{class:"scale-150"})]),_:1})]),e.value?(C(),_("div",be,[m(A,{onCloseModal:l[5]||(l[5]=p=>e.value=!1),header:"Добавить контакт"},{default:w(()=>[m(E,{onOnAddContact:l[4]||(l[4]=p=>y(p))})]),_:1})])):I("",!0),a.value?(C(),_("div",xe,[m(A,{onCloseModal:l[7]||(l[7]=p=>a.value=null),header:"Изменить контакт"},{default:w(()=>[m(E,{editContact:a.value,onOnSaveEditContact:l[6]||(l[6]=p=>h(p))},null,8,["editContact"])]),_:1})])):I("",!0),m(T,{type:n.value,message:c.value,onCloseToast:l[8]||(l[8]=p=>c.value=null)},null,8,["type","message"])])}}});export{Be as default};
